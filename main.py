from os import getenv #–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –±–æ—Ç—É
import asyncio #–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
from aiogram import Bot, Dispatcher, Router
from dotenv import load_dotenv
from aiogram.filters import Command
from aiogram.types import Message
import random 
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton  # –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫
from aiogram.types import CallbackQuery
from aiogram.types import FSInputFile
import os
TARO_CARDS = {
    "–®—É—Ç": "–°–µ–≥–æ–¥–Ω—è —Ç—ã –ø—Ä–æ—Å–Ω–µ—à—å—Å—è —Å –º—ã—Å–ª—å—é '–ê –ø–æ—á–µ–º—É –±—ã –∏ –Ω–µ—Ç?' –∏ —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º. –î–æ–≤–µ—Ä—å—Å—è –≤—Å–µ–ª–µ–Ω–Ω–æ–π, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ —Å–µ–≥–æ–¥–Ω—è –≤ –ø–ª–æ—Ö–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏.",
    
    "–ú–∞–≥": "–¢—ã —Å–µ–≥–æ–¥–Ω—è –º–æ–∂–µ—à—å –≤—Å—ë! –î–∞–∂–µ –∑–∞–≤–∞—Ä–∏—Ç—å —á–∞–π, –Ω–µ –æ–±–ª–∏–≤—à–∏—Å—å –∫–∏–ø—è—Ç–∫–æ–º. –¢–≤–æ–∏ —Ç–∞–ª–∞–Ω—Ç—ã –Ω–∞ –ø–∏–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–π –∏—Ö –≤–æ –±–ª–∞–≥–æ (–∏–ª–∏ —Ö–æ—Ç—è –±—ã –Ω–µ –≤–æ –≤—Ä–µ–¥).",
    
    "–í–µ—Ä—Ö–æ–≤–Ω–∞—è –ñ—Ä–∏—Ü–∞": "–ò–Ω—Ç—É–∏—Ü–∏—è —Å–µ–≥–æ–¥–Ω—è —Ç–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Å–æ–≤–µ—Ç—á–∏–∫. –ü—Ä–∏—Å–ª—É—à–∞–π—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –≥–æ–ª–æ—Å—É, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∫–∞–∂–µ—Ç—Å—è —Ç–∏—Ö–∏–º. –û—Ç–≤–µ—Ç—ã —É–∂–µ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ç–µ–±—è.",
    
    "–ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞": "–î–µ–Ω—å –ø–ª–æ–¥–æ—Ä–æ–¥–∏—è: –≤—ã—Ä–∞—Å—Ç–∏ –º–æ–≥—É—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ü–≤–µ—Ç—ã –Ω–∞ –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–µ, –Ω–æ –∏ —Ç–≤–æ–∏ –∏–¥–µ–∏. –ó–∞–±–æ—Ç—å—Å—è –æ —Å–µ–±–µ, –∫–∞–∫ –æ —Ä–µ–¥–∫–æ–º –∫–∞–∫—Ç—É—Å–µ.",
    
    "–ò–º–ø–µ—Ä–∞—Ç–æ—Ä": "–°–µ–≥–æ–¥–Ω—è —Ç—ã –≥–ª–∞–≤–Ω—ã–π. –ù–∞–≤–µ–¥–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –¥–µ–ª–∞—Ö –∏ –ø–æ—Ç—Ä–µ–±—É–π —É–≤–∞–∂–µ–Ω–∏—è –∫ —Å–≤–æ–∏–º –ª–∏—á–Ω—ã–º –≥—Ä–∞–Ω–∏—Ü–∞–º. –í–ª–∞—Å—Ç—å ‚Äî —ç—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (–∏ –∏–Ω–æ–≥–¥–∞ –ø–µ—á–µ–Ω—å–∫–∞).",
    
    "–ò–µ—Ä–æ—Ñ–∞–Ω—Ç": "–ò—â–∏ –º—É–¥—Ä–æ—Å—Ç—å –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö: –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, –≤ –º–µ–º–∞—Ö –∏–ª–∏ –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä–µ —Å –±–∞–±—É—à–∫–æ–π —É –ø–æ–¥—ä–µ–∑–¥–∞.",
    
    "–í–ª—é–±–ª–µ–Ω–Ω—ã–µ": "–°—É–¥—å–±–∞ –¥–∞–µ—Ç —Ç–µ–±–µ –≤—ã–±–æ—Ä: –∫–æ—Ñ–µ –∏–ª–∏ —á–∞–π? –°–∏–¥–µ—Ç—å –Ω–∞ —Ä–∞–±–æ—Ç–µ –∏–ª–∏ '–µ—â–µ 5 –º–∏–Ω—É—Ç–æ—á–µ–∫'? –í—ã–±–∏—Ä–∞–π —Å–µ—Ä–¥—Ü–µ–º (–∏–ª–∏ —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–æ–º).",
    
    "–ö–æ–ª–µ—Å–Ω–∏—Ü–∞": "–î–µ—Ä–∂–∏ –∫—É—Ä—Å! –°–µ–≥–æ–¥–Ω—è —Ç—ã –º–æ–∂–µ—à—å —Å–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ä—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —ç—Ç–æ –≥–æ—Ä–∞ –¥–µ–ª. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ –ø–æ—Ç–µ—Ä—è–π –∫–æ–ª–µ—Å–æ –ø–æ –ø—É—Ç–∏.",
    
    "–°–∏–ª–∞": "–£ —Ç–µ–±—è –µ—Å—Ç—å —Å–∏–ª–∞ –ø–æ—á–∏–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫—Ä–∞–Ω –∏ —Å–º–µ–ª–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞—Ç—å—Å—è, —á—Ç–æ —Ç—ã —Å–ª–æ–º–∞–ª –µ–≥–æ –≤—á–µ—Ä–∞. –ë—É–¥—å —Å–∏–ª—å–Ω—ã–º, –Ω–æ –¥–æ–±—Ä—ã–º.",
    
    "–û—Ç—à–µ–ª—å–Ω–∏–∫": "–õ—É—á—à–∏–π –ø–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è ‚Äî –æ—Å—Ç–∞—Ç—å—Å—è –¥–æ–º–∞ —Å –∫–Ω–∏–∂–∫–æ–π. –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –±–∞—Ç–∞—Ä–µ–π–∫–∞ —Ä–∞–∑—Ä—è–∂–µ–Ω–∞, –ø–æ—Ä–∞ –Ω–∞ –ø–æ–¥–∑–∞—Ä—è–¥–∫—É.",
    
    "–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã": "–°–µ–≥–æ–¥–Ω—è –ø–æ–≤–µ–∑–µ—Ç! –í–æ–∑–º–æ–∂–Ω–æ, –Ω–∞–π–¥–µ—à—å 10 —Ä—É–±–ª–µ–π –ø–æ–¥ –¥–∏–≤–∞–Ω–æ–º. –£–¥–∞—á–∞ –ª—é–±–∏—Ç –Ω–∞–≥–ª—ã—Ö, –Ω–æ —Å–µ–≥–æ–¥–Ω—è –æ–Ω–∞ –ª—é–±–∏—Ç –≤—Å–µ—Ö.",
    
    "–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å": "–í—Å–µ–ª–µ–Ω–Ω–∞—è —Å–µ–≥–æ–¥–Ω—è ‚Äî —Å—Ç—Ä–æ–≥–∏–π —É—á–∏—Ç–µ–ª—å. –ß—Ç–æ –ø–æ—Å–µ–µ—à—å, —Ç–æ –∏ –ø–æ–∂–Ω–µ—à—å. –ü–æ—Å–µ–π —á—Ç–æ-–Ω–∏–±—É–¥—å —Ö–æ—Ä–æ—à–µ–µ.",
    
    "–ü–æ–≤–µ—à–µ–Ω–Ω—ã–π": "–ï—Å–ª–∏ –≤—Å—ë –≤–∞–ª–∏—Ç—Å—è –∏–∑ —Ä—É–∫ ‚Äî —Ä–∞—Å—Å–ª–∞–±—å—Å—è –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –º–∏—Ä —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã. –ú–æ–∂–µ—Ç, —ç—Ç–æ –Ω–µ —Ä—É–∫–∏ –∫—Ä–∏–≤—ã–µ, –∞ –º–∏—Ä –ø–µ—Ä–µ–≤–µ—Ä–Ω—É–ª—Å—è?",
    
    "–°–º–µ—Ä—Ç—å": "–ù–µ –ø—É–≥–∞–π—Å—è! –°–µ–≥–æ–¥–Ω—è –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä–∞ —Ä–∞—Å—Å—Ç–∞—Ç—å—Å—è —Å–æ —Å—Ç–∞—Ä—ã–º: –≤—ã–±—Ä–æ—Å–∏—Ç—å —Å–ª–æ–º–∞–Ω–Ω—ã–π –∑–æ–Ω—Ç, —É–¥–∞–ª–∏—Ç—å –Ω–æ–º–µ—Ä –±—ã–≤—à–µ–≥–æ, –¥–æ–µ—Å—Ç—å –≤—á–µ—Ä–∞—à–Ω–∏–π —Å—É–ø.",
    
    "–£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å": "–ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ ‚Äî –≤–æ—Ç —Ç–≤–æ–π –¥–µ–≤–∏–∑. –ù–µ –ø–µ—Ä–µ–µ–¥–∞–π, –Ω–æ –∏ –Ω–µ –≥–æ–ª–æ–¥–∞–π. –ù–µ —Ä–∞–±–æ—Ç–∞–π –¥–æ —É–ø–∞–¥—É, –Ω–æ –∏ –Ω–µ –ª–µ–Ω–∏—Å—å. –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π.",
    
    "–î—å—è–≤–æ–ª": "–û—Å—Ç–æ—Ä–æ–∂–Ω–æ, —Å–æ–±–ª–∞–∑–Ω—ã! –¢–æ—Ä—Ç —Å –≤–∏—Ç—Ä–∏–Ω—ã —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è. –ö–∞—Ä—Ç–∞ —Å–æ–≤–µ—Ç—É–µ—Ç: –ø–æ–¥–¥–∞–π—Å—è, –Ω–æ –∑–Ω–∞–π –º–µ—Ä—É.",
    
    "–ë–∞—à–Ω—è": "–ñ–¥–∏ –ø–µ—Ä–µ–º–µ–Ω! –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö. –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ª—é–±–∏–º–∞—è —á–∞—à–∫–∞, –Ω–æ –∑–∞—Ç–æ —Ç—ã –∫—É–ø–∏—à—å –Ω–æ–≤—É—é, –µ—â—ë –ª—É—á—à–µ.",
    
    "–ó–≤–µ–∑–¥–∞": "–ù–∞–¥–µ–π—Å—è –Ω–∞ –ª—É—á—à–µ–µ! –î–∞–∂–µ –µ—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –ø—è—Ç–Ω–∏—Ü–∞, 13-–µ, –∞ —Ç—ã –ø–æ—Ç–µ—Ä—è–ª –Ω–æ—Å–æ–∫ ‚Äî –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –Ω–æ–≤—ã–π –¥–µ–Ω—å –∏ –Ω–æ–≤—ã–π –Ω–æ—Å–æ–∫.",
    
    "–õ—É–Ω–∞": "–°–µ–≥–æ–¥–Ω—è –≤—Å—ë –Ω–µ —Ç–æ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è. –î–æ–≤–µ—Ä—è–π, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π. –û—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –æ–±–µ—â–∞—é—Ç —Ö–∞–ª—è–≤—É.",
    
    "–°–æ–ª–Ω—Ü–µ": "–£—Ä–∞! –î–µ–Ω—å –±—É–¥–µ—Ç –æ—Ñ–∏–≥–µ–Ω–Ω—ã–º! –£–ª—ã–±–Ω–∏—Å—å –ø—Ä–æ—Ö–æ–∂–µ–º—É, –∏ –æ–Ω –ø–æ–¥—É–º–∞–µ—Ç, —á—Ç–æ —Ç—ã —Å—á–∞—Å—Ç–ª–∏–≤—ã–π —á–µ–ª–æ–≤–µ–∫ (–∏–ª–∏ —Å—Ç—Ä–∞–Ω–Ω—ã–π).",
    
    "–°—É–¥": "–¢–µ–±—è –∂–¥–µ—Ç –≤–∞–∂–Ω–æ–µ –æ—Å–æ–∑–Ω–∞–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ —Ç—ã –¥–∞–≤–Ω–æ –Ω–µ –∑–≤–æ–Ω–∏–ª –º–∞–º–µ. –ò–ª–∏ —á—Ç–æ —Å—É–ø –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ –∏—Å–ø–æ—Ä—Ç–∏–ª—Å—è.",
    
    "–ú–∏—Ä": "–ì–∞—Ä–º–æ–Ω–∏—è –∏ –ø–æ–∫–æ–π. –°–¥–µ–ª–∞–π –≤–¥–æ—Ö-–≤—ã–¥–æ—Ö. –°–µ–≥–æ–¥–Ω—è –≤—Å—ë –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ. –¢—ã –º–æ–ª–æ–¥–µ—Ü!"
}



def get_card_photo(card_name):
    folder = "images"
    
    file_path = os.path.join(folder, f"{card_name}.jpg")
    
    if os.path.exists(file_path):
        return FSInputFile(file_path)
    else:
        
        print(f"–§–æ—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–ª—è –∫–∞—Ä—Ç—ã: {card_name}")
        return None


def get_card_photo(card_name):
    
    folder = "images"
    
    extensions = ['.jpg', '.jpeg', '.png', '.webp']
    
    for ext in extensions:
        file_path = os.path.join(folder, f"{card_name}{ext}")
        if os.path.exists(file_path):
            return FSInputFile(file_path)
    
    print(f"–§–æ—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–ª—è –∫–∞—Ä—Ç—ã: {card_name}")
    return None


def get_keyboard():

    buttons = [
            [InlineKeyboardButton(text="üé¥ –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É", callback_data="card")],
            [InlineKeyboardButton(text="‚ùì –ü–æ–º–æ—â—å", callback_data="help"),
            InlineKeyboardButton(text="‚ÑπÔ∏è –û –±–æ—Ç–µ", callback_data="about")]
        ]
        
        
    keyboard = InlineKeyboardMarkup(inline_keyboard=buttons)
    return keyboard






load_dotenv()#—á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–≥—Ä—É–∂–∞–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
TOKEN=getenv("BOT_TOKEN")


dp=Dispatcher()#–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è


router=Router()#–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
dp.include_router(router)



@router.message(Command("start"))#–û–±—Ä–∞—â–∞–µ–º—Å—è –∫ –Ω–∞—à–µ–º—É —Ä–æ—É—Ç–µ—Ä—É (—Ç–æ–º—É —Å–∞–º–æ–º—É router = Router()) –õ–æ–≤–∏–º —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ –∫–æ–ª–±—ç–∫–∏ –æ—Ç –∫–Ω–æ–ø–æ–∫, –Ω–µ –∏–Ω–ª–∞–π–Ω-–∑–∞–ø—Ä–æ—Å—ã)
async def start_command(message: Message):#–§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥–æ–π–¥—ë—Ç
    kb=get_keyboard()    
    await message.answer("–ó–¥—Ä–∞—Å—Ç–≤—É–π—Ç–µ, –≤—ã –ø–æ–ø–∞–ª–∏ –≤ –±–æ—Ç –ü—Ä–æ—Å—Ç–æ —Ç–∞—Ä–æ! –í—ã—Ç—è–Ω–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –¥–≤–∞–¥—Ü–∞—Ç–∏ –¥–≤—É—Ö –∫–∞—Ä—Ç –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å", 
        reply_markup=kb
)


@router.message(Command("help"))
async def help_command(message: Message):
    
    await message.answer("–ö–æ–º–∞–Ω–¥—ã: \n/start - –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç\n/help - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥\n/about - –æ –Ω–∞—Å")
    


@router.message(Command("about"))
async def about_command(message:Message):
    await message.answer("–ë–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ –≤ –º–µ–º–∞—Ö. –ë–µ–∑ –≤–æ–¥—ã, –±–µ–∑ —ç–∑–æ—Ç–µ—Ä–∏–∫–∏, —Ç–æ–ª—å–∫–æ –±–æ–ª—å –∏ –≤–µ—Å–µ–ª—å–µ. –í –∫–æ–ª–æ–¥–µ 22 –∫–∞—Ä—Ç—ã (–∏ –±—É–¥–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å—Å—è!), –∫–∞–∂–¥–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–∏–ø–∏—á–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é –∏–∑ –∂–∏–∑–Ω–∏.")





@router.message(Command("card")) 
async def card_command(message: Message): 
    vse_karti = list(TARO_CARDS.items())  
    sluchaynaya_karta = random.choice(vse_karti)  
    nazvanie_karty = sluchaynaya_karta[0] 
    predskazanie = sluchaynaya_karta[1]   
    otvet = f"–¢–≤–æ—è –∫–∞—Ä—Ç–∞: {nazvanie_karty}\n\n{predskazanie}"
    photo = get_card_photo(nazvanie_karty)
    
    if photo:
        
        await message.answer_photo(
            photo=photo,
            caption=otvet
        )
    else:
        
        await message.answer(otvet)
     
    



@router.callback_query()  # –ª–æ–≤–∏–º –≤—Å–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ inline-–∫–Ω–æ–ø–∫–∏
async def handle_callback(callback: CallbackQuery): #–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ inline-–∫–Ω–æ–ø–∫–∏
    
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–Ω–æ–ø–∫–∏ (—Ç–æ, —á—Ç–æ –≤ callback_data)
    action = callback.data
    
    # –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ (—É–±–∏—Ä–∞–µ–º "—á–∞—Å–∏–∫–∏" –Ω–∞ –∫–Ω–æ–ø–∫–µ)
    await callback.answer()
    
    # –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞, –¥–µ–ª–∞–µ–º —Ä–∞–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    if action == "card":
        vse_karti = list(TARO_CARDS.items())  
        sluchaynaya_karta = random.choice(vse_karti)  
        nazvanie_karty = sluchaynaya_karta[0] 
        predskazanie = sluchaynaya_karta[1]   
        otvet = f"–¢–≤–æ—è –∫–∞—Ä—Ç–∞: {nazvanie_karty}\n\n{predskazanie}"
        photo = get_card_photo(nazvanie_karty)
        
        if photo:
            await callback.message.answer_photo(
                photo=photo,
                caption=otvet
            )
        else:
            await callback.message.answer(otvet)
        
    elif action == "help":
        await callback.message.answer("–ö–æ–º–∞–Ω–¥—ã: \n/start - –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç\n/help - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥\n/about - –æ –Ω–∞—Å")
        
        
    elif action == "about":
        await callback.message.answer("–ë–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ –≤ –º–µ–º–∞—Ö. –ë–µ–∑ –≤–æ–¥—ã, –±–µ–∑ —ç–∑–æ—Ç–µ—Ä–∏–∫–∏, —Ç–æ–ª—å–∫–æ –±–æ–ª—å –∏ –≤–µ—Å–µ–ª—å–µ. –í –∫–æ–ª–æ–¥–µ 22 –∫–∞—Ä—Ç—ã (–∏ –±—É–¥–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å—Å—è!), –∫–∞–∂–¥–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–∏–ø–∏—á–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é –∏–∑ –∂–∏–∑–Ω–∏.")


async def main():
    bot=Bot(token=TOKEN)#–ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º —Å –∫–∞–∫–∏–º –±–æ—Ç–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ–º
    print("Start...")
    await dp.start_polling(bot)#–∂–¥—ë–º –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞




if __name__=="__main__":#–µ—Å–ª–∏ –Ω–∞—à —Ñ–∞–π–ª –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ main
    asyncio.run(main()) #–∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞



    
